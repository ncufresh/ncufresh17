<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>

<script src="/javascript/ckeditor/ckeditor.js"></script>

<script type="text/javascript">
  CKEDITOR.replace('content',{
    filebrowserUploadUrl: '/uploader',
  });
  CKEDITOR.editorConfig = function (config){
      config.enterMode = CKEDITOR.ENTER_BR;
      config.autoParagraph = false;
  };
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
$('.navbar').css({"margin-bottom":"0px"});
$(document).ready(function(){
    $('.delete_data').click(function(){
        if(confirm("確定要刪除?")){
            var id = $(this).val();
            $.ajax({
                url:    '/documents/delete/'+ id,
                type:   'GET',
                error: function(e){
                    console.log("ERR  :"+e);
                },
                success: function(data){
                    $('#'+id).remove();
                }
            });
        }
    })
	$("select").change(function() {
	    if ($(this).find(':selected').text()=="常用連結"){
	    	$('#commonly_used_link_label').css({"display":"inline-block"});
	    	$('#not_commonly_used_link_label').css({"display":"none"});
            $('#commonly_used_link_textarea').css({"visibility":"visible"}); 
            $('#cke_not_commonly_used_link_textarea').css({"visibility":"hidden"});
            $('#commonly_used_link_textarea').attr({"name":"content"});
            $('#not_commonly_used_link_textarea').attr({"name":""});
            //CKEDITOR.instances.editor1.document.getBody().getText()
	    }else{
	    	$('#commonly_used_link_label').css({"display":"none"});
	    	$('#not_commonly_used_link_label').css({"display":"inline-block"});
            $('#commonly_used_link_textarea').css({"visibility":"hidden"}); 
            $('#cke_not_commonly_used_link_textarea').css({"visibility":"visible"});
            $('#commonly_used_link_textarea').attr({"name":""});
            $('#not_commonly_used_link_textarea').attr({"name":"content"});
	    }
	});
    $("#freshmen-source,#master-freshmen-source,#often-link-source").mouseover(function(){
            $(this).animate({
                padding:'0px'
            }, 200);
    });
    $("#freshmen-source,#master-freshmen-source,#often-link-source").mouseout(function(){
            $(this).animate({
                padding:'2vw'
            }, 200);
    });
    <% for (var i in for_freshman){%>
        $("#<%- for_freshman[i].id%>").mouseenter(function(){
            if ("<%-for_freshman[i].type%>"!="常用連結"){
		        $(this).animate({
		            padding:'0px'
		        }, 200);
            }else{
                if ($("#<%- for_freshman[i].id+"link"%>").is(':hover')){

                }else{
                    $(this).animate({
                        opacity: '0.4'
                    }, { duration: 200, queue: false });
                    $("#<%- for_freshman[i].id+"link"%>").animate({
                        opacity: '1'
                    }, { duration: 200, queue: false });
                    console.log("mouseover");
                }
            }
		});
		$("#<%- for_freshman[i].id%>").mouseleave(function(){
            if ("<%-for_freshman[i].type%>"!="常用連結"){
		        $(this).animate({
		            padding:'2vw'
		        }, 200);
            }else{
                if ($("#<%- for_freshman[i].id+"link"%>").is(':hover')){

                }else{
                    $(this).animate({
                        opacity: '1'
                    }, { duration: 200, queue: false });
                    $("#<%- for_freshman[i].id+"link"%>").animate({
                        opacity: '0'
                    }, { duration: 200, queue: false });
                    console.log("mouseout");
                }
            }
		});
        $("#<%- for_freshman[i].id+"link"%>").mouseover(function(){
            $("#<%- for_freshman[i].id%>").css({"opacity":"0.4"});
            $("#<%- for_freshman[i].id+"link"%>").css({"opacity":"1"});
        });
    <%}%>
    $("#freshmen-source").click(function(){
        $('#freshmen-distaination').css({"display":"block"});
        $('#master-freshmen-distaination').css({"display":"none"});
        $('#often-link-distaination').css({"display":"none"});
        $('html,body').animate({
            scrollTop: $('#freshmen-distaination').offset().top
        }, 1000);
        return false;
    });
    $("#master-freshmen-source").click(function(){
        $('#freshmen-distaination').css({"display":"none"});
        $('#master-freshmen-distaination').css({"display":"block"});
        $('#often-link-distaination').css({"display":"none"});
        $('html,body').animate({
            scrollTop: $('#master-freshmen-distaination').offset().top
        }, 1000);
        return false;
    });
    $("#often-link-source").click(function(){
        $('#freshmen-distaination').css({"display":"none"});
        $('#master-freshmen-distaination').css({"display":"none"});
        $('#often-link-distaination').css({"display":"block"});
        $('html,body').animate({
            scrollTop: $('#often-link-distaination').offset().top
        }, 1000);
        return false;
    });
    $(".under-1-source").click(function(){
        $('#under-1').css({"display":"block"});
        $('#under-2').css({"display":"none"});
        $('#under-3').css({"display":"none"});
        $('#under-1').addClass("active");
        $('#under-2').removeClass("active");
        $('#under-3').removeClass("active");
        return false;
    });
    $(".under-2-source").click(function(){
        $('#under-1').css({"display":"none"});
        $('#under-2').css({"display":"block"});
        $('#under-3').css({"display":"none"});
        $('#under-1').removeClass("active");
        $('#under-2').addClass("active");
        $('#under-3').removeClass("active");
        return false;
    });
    $(".under-3-source").click(function(){
        $('#under-1').css({"display":"none"});
        $('#under-2').css({"display":"none"});
        $('#under-3').css({"display":"block"});
        $('#under-1').removeClass("active");
        $('#under-2').removeClass("active");
        $('#under-3').addClass("active");
        return false;
    });
    $(".under-4-source").click(function(){
        $('#under-4').css({"display":"block"});
        $('#under-5').css({"display":"none"});
        $('#under-4').addClass("active");
        $('#under-5').removeClass("active");
        return false;
    });
    $(".under-5-source").click(function(){
        $('#under-4').css({"display":"none"});
        $('#under-5').css({"display":"block"});
        $('#under-4').removeClass("active");
        $('#under-5').addClass("active");
        return false;
    });
});
</script>