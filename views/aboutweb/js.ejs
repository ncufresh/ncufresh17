<%/*%>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<%*/%>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script type="text/javascript">
	$('.edit').click(function(){
        var id = $(this).attr('id');
        $.ajax({
            url:    "/aboutweb/get_data/"+id,
            error: function(e){
                console.log("ERR  :"+e);
            },
            success: function(data){
                $("#x_position").val(data.x);
                $("#the_image").css('left',data.x+"%")
                $("#y_position").val(data.y);
                $("#the_image").css('top',data.y+"%")
                $("#size").val(data.size);
                $("#the_image").css('width',data.size+"%")
                $("#link").val(data.link);
                if(data.type=="六角形"){
					$("#the_image").attr('src',"/aboutweb/六角形按鈕.png")
                }else if (data.type=="方形"){
                	$("#the_image").attr('src',"/aboutweb/方形按鈕.png")
                }else if (data.type=="橢圓"){
                	$("#the_image").attr('src',"/aboutweb/橢圓按鈕.png")
                }
                $("#edit_model").modal("show");
            }
        });
    });
    $("#the_image").draggable({
        stop: function(){
            var x=$("#the_image").css("left").substring(0,$("#the_image").css("left").length-2)/$("#underlay").width()*100;
            var y=$("#the_image").css("top").substring(0,$("#the_image").css("top").length-2)/$("#underlay").height()*100;
            console.log(x);
            console.log(y);
            $('#x-position').val(x);
            $('#y-position').val(y);
        }
    });
    $("#size,#x-position,#y-position").change(function(){
        $("#the_image").css({
            "height":"auto",
            "width":$("#size").val()+"%",
            "top":$("#y-position").val()+"%",
            "left":$("#x-position").val()+"%"
        });
    })
</script>