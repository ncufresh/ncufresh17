<script>

/// Preview uploaded image
    $(".imgView").change(function() {
        readImage( this );
    });

    function readImage(input) {
        if ( input.files && input.files[0] ) {

            var FR= new FileReader();
            FR.onload = function(e) {
                //e.target.result = base64 format picture
                $('#imgPreview').attr( "src", e.target.result );
            };       
            FR.readAsDataURL( input.files[0] );
            
        }
    }

/// Confirm/Cancel upload image

    function cancelUpload() {
        $('#imgPreview').attr("src", "/personal/noImg.png");
        document.getElementById("test").value = "";
    }

/// Q-A table action
    
    $(document).ready(function(){
        $('.openModal').on('click', function(){
            var index = (Number($(this).closest('tr').find('td:eq(0)').text())) - 1;

            var titleText = $(this).closest('tr').find('td:eq(3)').text();
            var conText = $("#con"+index).val();
            var ansText = $("#ans"+index).val();

            $('#title').html($('<b> 標題: ' + titleText + '</b>'));
            $('#qesField').html($('<b> 問題: </b> <p style="margin-top:1%;">' + conText + '</p>'));
            $('#ansField').html($('<b> 答案: </b> <p style="margin-top:1%;">' + ansText + '</p>'));

        });
    });

/// Game button action

    var myIndex = 1;
    var out = false;
    function moveIn() {
        if (out) {
            return;
        }
        var i;
        var x = document.getElementsByClassName("mySlides");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";  
        }
        myIndex++;
        if (myIndex > x.length) {myIndex = 1}        
        x[myIndex-1].style.display = "block";
        x[myIndex-1].style.margin = "auto";
        if (myIndex==6) {out=true;}
        setTimeout(moveIn, 800); 
    }

</script>