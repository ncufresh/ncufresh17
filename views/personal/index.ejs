<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../layouts/head %>
    <script src="https://code.jquery.com/jquery-1.11.3.js"></script>
</head>
<body>
    <header>
        <% include ../layouts/navbar %>
    </header>

    <main class="container">
        <div class="jumbotron row" style="overflow:auto;">
            <div class="col-md-6" style="padding-left:50px; padding-right:50px;">
                <h1>個人專區</h1>

                <div class="well" id="profile" style="height:150px; text-align:center;">

                    <input accept="image/*" id="uploadImage" type="file">
                    <img id="img" style="max-width: 250px; max-height: 100px;">
                    <!---->
                    <!-- Modal -->
                    <div class="modal fade" id="myModal" role="dialog">
                        <div class="modal-dialog">
                        
                            <!-- Modal content-->
                            <div class="modal-content">
                            
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">Upload this photo as a profile picture?</h4>
                                </div>
                                
                                <div class="modal-body">
                                    <img id="img2" style="max-width: 250px; max-height: 100px;">
                                </div>
                                
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">No_Way!</button>
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Confirm</button>
                                </div>
                                
                            </div>
                        
                        </div>
                    </div>
                    <!---->
                    <span id="img_title" style="vertical-align: middle;"><font size="6">大頭貼</font></span>
            
                </div>

                <input type="button" onclick="self.location.href='/smallgame'" style="margin-left:160px; background-image:url('/大一新生.png');
                    width: 100px; height: 100px; background-size: contain; background-repeat: no-repeat; background-position: center;">

            </div>
            
            <div class="col-md-6" id="Q-A">
                <h2><u>Q&A幫您解答</u></h2>

                <div class="well" style="width: 100%; max-height: 300px; overflow-y: scroll; text-align: center; float: left;">
                    <div class="table-responsive">          
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>類別</th>
                                    <th>日期</th>
                                    <th>標題</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-toggle="modal" data-target="#QA-Modal">
                                    <td>1</td>
                                    <td>大便</td>
                                    <td>7/4</td>
                                    <td>到處都有廁所嗎</td>
                                </tr>
                                <tr data-toggle="modal" data-target="#QA-Modal">
                                    <td>2</td>
                                    <td>吃飯</td>
                                    <td>7/7</td>
                                    <td>聽說中央都吃大便，是真的嗎？</td>
                                </tr>
                                <tr data-toggle="modal" data-target="#QA-Modal">
                                    <td>3</td>
                                    <td>隨便</td>
                                    <td>7/10</td>
                                    <td>wwwwww</td>
                                </tr>
                                <tr data-toggle="modal" data-target="#QA-Modal">
                                    <td>1</td>
                                    <td>Anna</td>
                                    <td>Pitt</td>
                                    <td>35</td>
                                </tr>
                            </tbody>
                        </table>
                        
                    </div>
                    
                    <!--//////////////////-->
                    <div class="modal fade" id="QA-Modal" role="dialog">
                        <div class="modal-dialog">
                        
                            <!-- Modal content-->
                            <div class="modal-content">
                            
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h3 class="modal-title">Title:</h3>
                                </div>
                                
                                <div id="qes" class="modal-body"></div>
                                <div id="ans" class="modal-body"></div>
                                
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                </div>
                                
                            </div>
                        
                        </div>
                    </div>
                    <!--//////////////////-->
                </div>
            </div>

        </div>
    </main>

    <footer>
        <% include ../layouts/footer %>
    </footer>
        <% include js %>
</body>
</html>

<style>

    .table-hover tbody tr:hover td {
        background-color: #a9b4c6;
    }

</style>

<script>

/// previewe from uploaded image
    $("#uploadImage").change(function() {
        readImage( this );
    });

    function readImage(input) {
        if ( input.files && input.files[0] ) {
            $("#img_title").remove();
            $('#myModal').modal('show');
            
            var FR= new FileReader();
            FR.onload = function(e) {
                //e.target.result = base64 format picture
                $('#img').attr( "src", e.target.result );
                $('#img2').attr( "src", e.target.result );
            };       
            FR.readAsDataURL( input.files[0] );

        }
    }
/// Q-A table action
    $(function(){
        $('#QA-Modal').on('show', function(){

            var qesText = $(event.target).closest('tr').find('td:eq(1)').text();
            var ansText = $(event.target).closest('tr').find('td:eq(2)').text();
            
            $(this).find('#qes').html($('<b> Question: ' + qesText + '</b>'));
            $(this).find('#ans').html($('<b> Answer: ' + ansText  + '</b>'));

        });
    });

/// game button action
    function gameOnClick() {
        //document.getElementById("per").innerHTML = "Hello World";
    }

</script>